spring.application.name=java-api-boilerplate
spring.main.allow-bean-definition-overriding=true
spring.mvc.throw-exception-if-no-handler-found=true
spring.autoconfigure.exclude=io.opentelemetry.instrumentation.spring.autoconfigure.OpenTelemetryAutoConfiguration
spring.messages.basename=messages

spring.web.cors.allowed-origins=*
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.exposed-headers=*
spring.web.cors.allow-credentials=true

spring.datasource.url=${MYSQL_URL:jdbc:h2:mem:testdb}
spring.datasource.username=${MYSQL_USER:sa}
spring.datasource.password=${MYSQL_PASSWORD:}
spring.datasource.driver-class-name=${MYSQL_DRIVER:org.h2.Driver}
spring.jpa.database-platform=${JPA_PLATFORM:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=update

jwt.secret=${JWT_SECRET:mySecretKey123456789012345678901234567890}
jwt.expiration=${JWT_EXPIRATION:86400000}

management.tracing.enabled=true
management.tracing.sampling.probability=1.0
management.metrics.export.otlp.enabled=true
management.metrics.export.otlp.endpoint=https://api.datadoghq.com/api/v2/metrics
management.metrics.export.otlp.headers.x-datadog-api-key=${DATADOG_API_KEY}
management.datadog.metrics.export.apiKey=${DATADOG_API_KEY}
management.datadog.metrics.export.applicationKey=${DATADOG_APP_KEY}
management.endpoints.web.exposure.include=health,info,prometheus,trace
management.endpoint.health.show-details=always

logging.level.root=INFO
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate=ERROR
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.file.name=logs/application.log
logging.file.max-size=10MB
logging.file.total-size-cap=100MB
logging.file.max-history=10
logging.logstash.enabled=true
logging.logstash.app-name=${spring.application.name}
logging.logstash.custom-fields={"environment":"${ENVIRONMENT:local}"}

resilience4j.retry.instances.default.max-attempts=${RESILIENCE4J_RETRY_MAX_ATTEMPTS:5}
resilience4j.retry.instances.default.wait-duration=${RESILIENCE4J_RETRY_WAIT_DURATION:500ms}
resilience4j.retry.instances.default.enable-exponential-backoff=${RESILIENCE4J_RETRY_EXPONENTIAL_BACKOFF:true}
resilience4j.retry.instances.default.exponential-backoff-multiplier=${RESILIENCE4J_RETRY_BACKOFF_MULTIPLIER:2.0}
resilience4j.retry.instances.default.max-wait-duration=${RESILIENCE4J_RETRY_MAX_WAIT_DURATION:5s}

